{% embed 'partials/base.html.twig' %}
	{% macro pageLinkName(text) %}{{ text|lower|replace({' ':'_'}) }}{% endmacro %}

	{% block header_navigation %}
		<div class="navbar-fixed">
			<nav>
				<div class="nav-wrapper container">
					<a class="brand-logo" href="{{ base_url == '' ? '/' : base_url }}">Grav</a>

					<a href="#" data-activates="mobile-demo" class="button-collapse">
						<i class="mdi-navigation-menu"></i>
					</a>

					<ul class="right hide-on-med-and-down">
						{% for module in page.collection() %}
							{% set current_module = (module.active or module.activeChild) ? 'active' : '' %}
							<li class="{{ current_module }}">
								<a href="#{{ _self.pageLinkName(module.menu) }}">{{ module.menu }}</a>
							</li>
						{% endfor %}
					</ul>

					<ul id="mobile-demo" class="side-nav">
						{% for module in page.collection() %}
							<li>
								<a href="#{{ _self.pageLinkName(module.menu) }}">{{ module.menu }}</a>
							</li>
						{% endfor %}
					</ul>
				</div>
			</nav>
		</div>
	{% endblock %}

	{% block content %}
		{{ page.content }}
		{% for module in page.collection() %}
			<div class="modular-anchor" id="{{ _self.pageLinkName(module.menu) }}"></div>
			{{ module.content }}
		{% endfor %}
	{% endblock %}
{% endembed %}
